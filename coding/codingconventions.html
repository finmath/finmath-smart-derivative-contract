<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M16 from src/site/markdown/coding/codingconventions.md at 2024-12-05
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M16" />
    <title>finmath-smart-derivative-contract â€“ Coding Conventions</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.11.1.min.js"></script>
  </head>
  <body class="topBarEnabled">
    <header id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">finmath smart derivative contract <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../index.html" title="Introduction">Introduction</a></li>
            <li><a href="../valuationservice.html" title="Valuation Service">Valuation Service</a></li>
            <li><a href="../dockerbuild.html" title="Docker Build">Docker Build</a></li>
            <li class="dropdown-submenu">
<a href="../articles/index.html" title="Articles">Articles</a>
              <ul class="dropdown-menu">
                  <li><a href="../articles/rethinking_part_1.html" title="Rethinking Finacial Derivatives (1)">Rethinking Finacial Derivatives (1)</a></li>
                  <li><a href="../articles/rethinking_part_2.html" title="Rethinking Finacial Derivatives (2)">Rethinking Finacial Derivatives (2)</a></li>
                  <li><a href="../articles/sketch_digital_landscape.html" title="Sketch of a Decentralised Post-Trade Infrastructure">Sketch of a Decentralised Post-Trade Infrastructure</a></li>
              </ul>
            </li>
            <li><a title="Coding Conventions">Coding Conventions</a></li>
            <li><a href="../apidocs" title="API Documentation">API Documentation</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="../project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="../index.html" title="About">About</a></li>
                  <li><a href="../summary.html" title="Summary">Summary</a></li>
                  <li><a href="../scm.html" title="Source Code Management">Source Code Management</a></li>
                  <li><a href="../distribution-management.html" title="Distribution Management">Distribution Management</a></li>
                  <li><a href="../dependency-info.html" title="Dependency Information">Dependency Information</a></li>
                  <li><a href="../dependencies.html" title="Dependencies">Dependencies</a></li>
                  <li><a href="../issue-management.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="../licenses.html" title="Licenses">Licenses</a></li>
                  <li><a href="../team.html" title="Team">Team</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="../project-reports.html" title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="../apidocs/index.html" title="Javadoc">Javadoc</a></li>
              </ul>
            </li>
        </ul>
      </li>
            </ul>
            <ul class="nav pull-right">
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="https://www.smartderivativecontract.com/" title="smartderivativecontract">smartderivativecontract</a></li>
                </ul>
              </li>
            </ul>
        </div>
      </div>
    </header>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="http://www.finmath.net/finmath-smart-derivative-contract" id="bannerLeft"><h1>smart derivative contract</h1>
</a></div>
          <div class="pull-right"><a href="http://www.finmath.net" id="bannerRight"><h1>finmath.net</h1>
</a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-12-05<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.1.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">finmath smart derivative contract</li>
    <li><a href="../index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../valuationservice.html" title="Valuation Service"><span class="none"></span>Valuation Service</a></li>
    <li><a href="../dockerbuild.html" title="Docker Build"><span class="none"></span>Docker Build</a></li>
    <li><a href="../articles/index.html" title="Articles"><span class="icon-chevron-right"></span>Articles</a></li>
    <li class="active"><a><span class="none"></span>Coding Conventions</a></li>
    <li><a href="../apidocs" title="API Documentation"><span class="none"></span>API Documentation</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="www.finmath.net/finmath-smart-derivative-contract" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" placeholder="Search with Google..." />
</form>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h1>Coding Conventions</h1>
<p>Below you find some high level design principles. With respect to the low-level code style, see the checkstyle file.</p><section>
<h2>Design Principles</h2><section>
<h3>Implementation against Interfaces</h3>
<p>The library is developed to allow users to focus on its interfaces. Code should implement against an interface (e.g.,
the left hand side of an assignment should be an interface).</p></section><section>
<h3>Naming, Code is Documentation</h3>
<p>Class names, member names and variable names are as descriptive as possible (feasible).
Names are formed using camel notation from the general to the special property. Implementation
details are appended. Examples:</p>
<ul>

<li><code>periodStart</code></li>
<li><code>periodEnd</code></li>
<li><code>RandomVariableFromDoubleArray</code></li>
<li><code>DiscountCurveInterpolation</code></li>
</ul>
<p>A reassignment of a reference that alters the meaning should be avoided. A temporary assignment with a different meaning
should be avoided. Example:</p>
<p>Wrong:</p>

<div class="verbatim">
<pre><code>	var discountFactor = (1 + forwardRate * periodLength);
	discountFactor = 1.0/discountFactor;
</code></pre></div>
<p>Correct:</p>

<div class="verbatim">
<pre><code>	var forwardBond = (1 + forwardRate * periodLength);
	var discountFactor = 1.0/forwardBond;
</code></pre></div><section>
<h4>Naming of Interfaces</h4>
<p>Interfaces should come with names describing the core concept (like <code>BrownianMotion</code>  or <code>RandomVariable</code> or <code>Curve</code>).
Implementations pick up the name of the main interface followed by a specification of an implementation aspect (
like <code>RandomVariableFromDoubleArray</code>).</p></section><section>
<h4>Naming of Collections</h4>
<p>Collections are named as the plural of their items. Example:</p>

<div class="verbatim">
<pre><code>	Period period = periods.get(periodIndex);
</code></pre></div>
<p>In cases where it adds clarity the collection type can be used as a suffix instead of the plural. Example:</p>

<div class="verbatim">
<pre><code>	RandomVariable sensitivity = sensitivityMap.get(riskFactor);
</code></pre></div></section><section>
<h4>Naming of Arguments</h4>
<p>If constructor arguments or setter (builder) arguments are used to set fields, the field and the argument have the same
name, i.e., we use</p>

<div class="verbatim">
<pre><code>	private final double value;
	
	Skalar(double value) {
		this.value = value;
	}
</code></pre></div></section></section><section>
<h3>Naming of Unit Tests</h3>
<p>Unit test names are end with the word <code>Test</code> and formed as XxxYyyTest where Xxx is the name of the primary class being
under test (it may be that a tests is testing a broader aspect of the class) and Yyy optionally specifies an aspect.
Example: <code>LIBORMarketModelCalibrationTest</code>. The methods of the unit test start with the word <code>test</code>.</p></section><section>
<h3>Thread Safety</h3>
<p>The library is developed with thread safety in mind.</p>
<ul>

<li>Classes prefer a design resulting in <em>effectively immutable object</em>.
<ul>

<li>Method calls are idempotent.</li>
<li>Method calls are free of side effects.</li>
</ul></li>
<li>Members are final whenever possible.</li>
</ul></section><section>
<h3>Lazy Initialization</h3>
<p>The library utilized lazy initialization for time consuming task. Object construction is expected to require minimal
resources.</p></section><section>
<h3>Serialization</h3>
<p>The library is developed with object serialization in mind.</p>
<ul>

<li>Classes should implement the <code>Serializable</code> interface.</li>
</ul></section></section><section>
<h2>Language</h2><section>
<h3>Language Extensions</h3>
<p>The code is written in Java. That is, it avoids language extensions like <em>Lombok</em>.</p></section><section>
<h3>Java Modules</h3>
<p>The library will export Java 9 modules.</p></section></section><section>
<h2>Language</h2><section>
<h3>Language Extensions</h3>
<p>The code is written in Java. That is, it avoids language extensions like <em>Lombok</em>.</p></section><section>
<h3>Java Modules</h3>
<p>Starting with version 5.x the library will export Java 9 modules.</p></section></section><section>
<h2>Other Principles</h2>
<ul>

<li>Code in <code>src/main</code> should conform to DRY (don't repeat yourself). Unit tests in <code>src/test</code> should be self-contained
and code duplication (e.g. create a model for a specific purpose) is fine.</li>
</ul></section><section>
<h2>Documentation</h2><section>
<h3>JavaDoc with MathJax</h3>
<p>Every public interface, class, method, enum comes with a complete JavaDoc. If there are mathematical formulas, we use
MathJax. (MathJax is available due to a configuration in the Maven pom.xml).</p></section></section><section>
<h2>Code Style</h2>
<p>We follow loosely the Eclipse coding conventions, which are a minimal modification of the original Java coding
conventions. See <a href="https://wiki.eclipse.org/Coding_Conventions" class="externalLink">https://wiki.eclipse.org/Coding_Conventions</a></p>
<p>See also the Spring coding conventions, see <a href="https://github.com/spring-projects/spring-framework/wiki/Code-Style" class="externalLink">https://github.com/spring-projects/spring-framework/wiki/Code-Style</a></p>
<p>We repeat some of the aspects:</p>
<ul>

<li>
<p>Indentation uses a single TAB character (as for the Spring coding convention and the Eclipse coding convention).</p></li>
<li>
<p>Files are UTF-8 encoded with Unit line endings.</p></li>
<li>
<p>Lines do not have trailing whiltespaces.</p></li>
</ul>
<p>We deviate in some places:</p>
<ul>

<li>
<p>We allow for long code lines. Some coding conventions limit the length of a line to something like 80 characters (like
FORTRAN did in the 70'ies). Given widescreen monitors we believe that line wrapping makes code much harder to read
than code with long(er) lines.</p></li>
<li>
<p>We usually do not make a space after statements like <code>&#xed;f</code>, <code>for</code>. We interpret <code>&#xed;f</code> and <code>for</code> as functions and for
functions and methods we do not have a space between the name and the argument list either. That is, we write</p></li>
</ul>

<div class="verbatim">
<pre><code>    if(condition) {
      // code
    }
</code></pre></div>
<p>The project is using a checkstyle profile, which currently only a very limited set
of style issues. See <a href="https://github.com/finmath/finmath-lib/blob/master/finmath-checkstyle.xml" class="externalLink">finmath-checkstyle.xml</a>
.</p></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2024
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>